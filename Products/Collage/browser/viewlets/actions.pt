<div xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
     xmlns:tal="http://xml.zope.org/namespaces/tal"
     xmlns:metal="http://xml.zope.org/namespaces/metal"
     i18n:domain="collage"
     tal:omit-tag="">

  <!-- warning: this is lame -->
  
  <metal:block use-macro="here/global_defines/macros/defines" />
  
  <div tal:omit-tag=""
       tal:define="test view/test;
		   default_tab default_tab | request/default_tab | string:view;
		   alias python: here.portal_type == 'CollageAlias' and here.get_target();
		   action_object python: alias or here;
		   actions python: here.portal_actions.listFilteredActionsFor(action_object);
		   view_actions python:here.plonifyActions(template_id=template_id, actions=actions, default_tab=default_tab)">
    
    <span class="row-type"
	  tal:condition="python: 'Collage' not in here.portal_type"
	  tal:content="string: ${here/portal_type}:" />
    
    <span class="row-type"
	  tal:condition="alias"
	  tal:content="string: ${alias/portal_type} (aliased):" />
    
    <a class="action"
       tal:attributes="href string:${here/absolute_url}/delete_confirmation">
      <span i18n:translate="" i18n:domain="plone">Delete</span>
    </a>
    
    <tal:actions repeat="action view_actions">
      <a tal:condition="python: action['id'] not in ['folderContents', 'metadata', 'local_roles', 'revisitCollage', 'portlets']"
	 tal:define="selected action/selected|nothing;"
	 tal:attributes="id string:contentview-${action/id};
			 class python:'action '+test(selected, 'selected', 'plain');
			 href action/url">
	<span i18n:domain="plone"
	      i18n:translate=""
	      tal:content="action/title">
	  View name
	</span>
      </a>
    </tal:actions>
  </div>
  
</div>
