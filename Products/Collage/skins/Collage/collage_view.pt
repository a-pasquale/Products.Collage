<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="collage">

<body>

<div metal:fill-slot="main">
    <metal:main-macro define-macro="main">

        <div tal:define="view here/@@collage;
			 edit_mode view/edit_mode;
			 d nocall: context/document_actions/macros/document_actions|python:None;
			 plone2 python: d is not None;
			 plone3 python: d is None"
             id="collage">

	     <tal:block condition="plone2">
	       <div metal:use-macro="here/document_actions/macros/document_actions">
                 Document actions (print, sendto etc)
               </div>
	     </tal:block>

	     <tal:block condition="plone3">
	       <div tal:replace="structure provider:plone.abovecontenttitle" />
             </tal:block>

	    <h1 tal:condition="here/getShowTitle|nothing"
		tal:content="object_title" class="documentFirstHeading">
              Title or id
            </h1>

	    <tal:block condition="plone3">
              <div tal:replace="structure provider:plone.belowcontenttitle" />
            </tal:block>

            <tal:block condition="plone2">
              <div metal:use-macro="here/document_byline/macros/byline">
		Get the byline - contains details about author and modification date.
              </div>
	    </tal:block>
	    
	    <tal:description condition="here/getShowDescription|nothing">
	      <p class="documentDescription"
		 tal:content="here/Description"
		 tal:condition="here/Description">
                Description
              </p>
	    </tal:description>
	    
            <div metal:use-macro="here/document_relateditems/macros/relatedItems">
                show related items if they exist
            </div>

	    <div tal:replace="structure here/@@renderer">
	      Collage content
            </div>
	    
	    <p tal:condition="edit_mode">
	      <span class="discreet"
		    i18n:translate="label_no_items_added"
		    tal:condition="not: here/getFolderContents">
                This Collage-object does not have any items yet. Add items using the drop-down menu to have them appear here.
              </span>

	      <form action="insert-row" tal:condition="python: edit_mode">
		<input type="submit"
		       i18n:attributes="value button_add_collagerow"
		       value="Add row" />
              </form>
	    </p>	    
        </div>
    </metal:main-macro>
</div>

</body>
</html>
